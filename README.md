An attempt at porting XState from JS to Dart